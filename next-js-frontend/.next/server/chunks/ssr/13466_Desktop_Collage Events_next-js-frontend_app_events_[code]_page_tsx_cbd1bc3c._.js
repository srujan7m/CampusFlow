module.exports=[54347,a=>{"use strict";var b=a.i(80672),c=a.i(79278),d=a.i(34420),e=a.i(72619),f=a.i(42047),g=a.i(33389),h=a.i(84125),i=a.i(95437),j=a.i(69524),k=a.i(58202),k=k,l=a.i(33323),m=a.i(83053);let n=(0,a.i(21230).default)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);var o=a.i(82423),p=a.i(35828),q=a.i(44728),r=a.i(59698),s=a.i(75158),t=a.i(46897),u=a.i(67043),v=a.i(94233),w=a.i(40906),x=a.i(12926),y=a.i(81486),z=a.i(54090),A=a.i(28938),B=a.i(4735),C=a.i(22701),D=a.i(3763),E=a.i(69585),F=a.i(57922),G=a.i(74908),H=a.i(4435),I="Dialog",[J,K]=(0,w.createContextScope)(I),[L,M]=J(I),N=a=>{let{__scopeDialog:d,children:e,open:f,defaultOpen:g,onOpenChange:h,modal:i=!0}=a,j=c.useRef(null),k=c.useRef(null),[l=!1,m]=(0,y.useControllableState)({prop:f,defaultProp:g,onChange:h});return(0,b.jsx)(L,{scope:d,triggerRef:j,contentRef:k,contentId:(0,x.useId)(),titleId:(0,x.useId)(),descriptionId:(0,x.useId)(),open:l,onOpenChange:m,onOpenToggle:c.useCallback(()=>m(a=>!a),[m]),modal:i,children:e})};N.displayName=I;var O="DialogTrigger",P=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=M(O,d),g=(0,v.useComposedRefs)(c,f.triggerRef);return(0,b.jsx)(D.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":f.open,"aria-controls":f.contentId,"data-state":ag(f.open),...e,ref:g,onClick:(0,u.composeEventHandlers)(a.onClick,f.onOpenToggle)})});P.displayName=O;var Q="DialogPortal",[R,S]=J(Q,{forceMount:void 0}),T=a=>{let{__scopeDialog:d,forceMount:e,children:f,container:g}=a,h=M(Q,d);return(0,b.jsx)(R,{scope:d,forceMount:e,children:c.Children.map(f,a=>(0,b.jsx)(C.Presence,{present:e||h.open,children:(0,b.jsx)(B.Portal,{asChild:!0,container:g,children:a})}))})};T.displayName=Q;var U="DialogOverlay",V=c.forwardRef((a,c)=>{let d=S(U,a.__scopeDialog),{forceMount:e=d.forceMount,...f}=a,g=M(U,a.__scopeDialog);return g.modal?(0,b.jsx)(C.Presence,{present:e||g.open,children:(0,b.jsx)(W,{...f,ref:c})}):null});V.displayName=U;var W=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=M(U,d);return(0,b.jsx)(F.RemoveScroll,{as:H.Slot,allowPinchZoom:!0,shards:[f.contentRef],children:(0,b.jsx)(D.Primitive.div,{"data-state":ag(f.open),...e,ref:c,style:{pointerEvents:"auto",...e.style}})})}),X="DialogContent",Y=c.forwardRef((a,c)=>{let d=S(X,a.__scopeDialog),{forceMount:e=d.forceMount,...f}=a,g=M(X,a.__scopeDialog);return(0,b.jsx)(C.Presence,{present:e||g.open,children:g.modal?(0,b.jsx)(Z,{...f,ref:c}):(0,b.jsx)($,{...f,ref:c})})});Y.displayName=X;var Z=c.forwardRef((a,d)=>{let e=M(X,a.__scopeDialog),f=c.useRef(null),g=(0,v.useComposedRefs)(d,e.contentRef,f);return c.useEffect(()=>{let a=f.current;if(a)return(0,G.hideOthers)(a)},[]),(0,b.jsx)(_,{...a,ref:g,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,u.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),e.triggerRef.current?.focus()}),onPointerDownOutside:(0,u.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;(2===b.button||c)&&a.preventDefault()}),onFocusOutside:(0,u.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault())})}),$=c.forwardRef((a,d)=>{let e=M(X,a.__scopeDialog),f=c.useRef(!1),g=c.useRef(!1);return(0,b.jsx)(_,{...a,ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(f.current||e.triggerRef.current?.focus(),b.preventDefault()),f.current=!1,g.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(f.current=!0,"pointerdown"===b.detail.originalEvent.type&&(g.current=!0));let c=b.target;e.triggerRef.current?.contains(c)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&g.current&&b.preventDefault()}})}),_=c.forwardRef((a,d)=>{let{__scopeDialog:e,trapFocus:f,onOpenAutoFocus:g,onCloseAutoFocus:h,...i}=a,j=M(X,e),k=c.useRef(null),l=(0,v.useComposedRefs)(d,k);return(0,E.useFocusGuards)(),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(A.FocusScope,{asChild:!0,loop:!0,trapped:f,onMountAutoFocus:g,onUnmountAutoFocus:h,children:(0,b.jsx)(z.DismissableLayer,{role:"dialog",id:j.contentId,"aria-describedby":j.descriptionId,"aria-labelledby":j.titleId,"data-state":ag(j.open),...i,ref:l,onDismiss:()=>j.onOpenChange(!1)})}),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ak,{titleId:j.titleId}),(0,b.jsx)(al,{contentRef:k,descriptionId:j.descriptionId})]})]})}),aa="DialogTitle",ab=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=M(aa,d);return(0,b.jsx)(D.Primitive.h2,{id:f.titleId,...e,ref:c})});ab.displayName=aa;var ac="DialogDescription",ad=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=M(ac,d);return(0,b.jsx)(D.Primitive.p,{id:f.descriptionId,...e,ref:c})});ad.displayName=ac;var ae="DialogClose",af=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=M(ae,d);return(0,b.jsx)(D.Primitive.button,{type:"button",...e,ref:c,onClick:(0,u.composeEventHandlers)(a.onClick,()=>f.onOpenChange(!1))})});function ag(a){return a?"open":"closed"}af.displayName=ae;var ah="DialogTitleWarning",[ai,aj]=(0,w.createContext)(ah,{contentName:X,titleName:aa,docsSlug:"dialog"}),ak=({titleId:a})=>{let b=aj(ah),d=`\`${b.contentName}\` requires a \`${b.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${b.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${b.docsSlug}`;return c.useEffect(()=>{a&&(document.getElementById(a)||console.error(d))},[d,a]),null},al=({contentRef:a,descriptionId:b})=>{let d=aj("DialogDescriptionWarning"),e=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${d.contentName}}.`;return c.useEffect(()=>{let c=a.current?.getAttribute("aria-describedby");b&&c&&(document.getElementById(b)||console.warn(e))},[e,a,b]),null},am=a.i(72523),am=am,an=a.i(87682);function ao({...a}){return(0,b.jsx)(N,{"data-slot":"dialog",...a})}function ap({...a}){return(0,b.jsx)(P,{"data-slot":"dialog-trigger",...a})}function aq({...a}){return(0,b.jsx)(T,{"data-slot":"dialog-portal",...a})}function ar({className:a,...c}){return(0,b.jsx)(V,{"data-slot":"dialog-overlay",className:(0,an.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...c})}function as({className:a,children:c,showCloseButton:d=!0,...e}){return(0,b.jsxs)(aq,{"data-slot":"dialog-portal",children:[(0,b.jsx)(ar,{}),(0,b.jsxs)(Y,{"data-slot":"dialog-content",className:(0,an.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...e,children:[c,d&&(0,b.jsxs)(af,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,b.jsx)(am.default,{}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function at({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"dialog-header",className:(0,an.cn)("flex flex-col gap-2 text-center sm:text-left",a),...c})}function au({className:a,...c}){return(0,b.jsx)(ab,{"data-slot":"dialog-title",className:(0,an.cn)("text-lg leading-none font-semibold",a),...c})}function av({className:a,...c}){return(0,b.jsx)(ad,{"data-slot":"dialog-description",className:(0,an.cn)("text-muted-foreground text-sm",a),...c})}var aw=a.i(3074),ax=a.i(61125),ay=a.i(36732),az=a.i(52203);function aA(){let u=(0,d.useParams)().code,{data:v,isLoading:w}=(0,aw.useEvent)(u),x=(0,ax.useCreateRegistration)(),y=(0,ax.useVerifyPayment)(),z=(0,c.useRef)(null),A=(0,c.useRef)(null),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)({name:"",email:"",phone:""});(0,c.useEffect)(()=>{if(v&&z.current&&!A.current)return(async()=>{let b=(await a.A(24592)).default;b.accessToken="pk.eyJ1Ijoic3J1amFuNyIsImEiOiJjbWhweXYwZnkwcnk5Mmpxb2JjcnE1cHduIn0.h21t2izg061-GTKXnhPomg";let c=new b.Map({container:z.current,style:"mapbox://styles/mapbox/streets-v12",center:[v.lng,v.lat],zoom:15});c.addControl(new b.NavigationControl,"top-right"),new b.Marker({color:"#2563eb"}).setLngLat([v.lng,v.lat]).setPopup(new b.Popup().setHTML(`<strong>${v.name}</strong><br/>${v.address}`)).addTo(c),A.current=c})(),()=>{A.current&&(A.current.remove(),A.current=null)}},[v]),(0,c.useEffect)(()=>{let a=document.createElement("script");return a.src="https://checkout.razorpay.com/v1/checkout.js",a.async=!0,document.body.appendChild(a),()=>{document.body.removeChild(a)}},[]);let J=a=>{let{name:b,value:c}=a.target;I(a=>({...a,[b]:c}))},K=async a=>{a.preventDefault(),E(!0);try{let a=await x.mutateAsync({eventCode:u,name:H.name,email:H.email,phone:H.phone,amount:v?.ticketPrice||0}),b={key:"PLACEHOLDER_RAZORPAY_KEY_ID",amount:a.amount,currency:a.currency,name:v?.name||"Event Registration",description:`Registration for ${v?.name}`,order_id:a.orderId,handler:async b=>{try{await y.mutateAsync({razorpayPaymentId:b.razorpay_payment_id,razorpayOrderId:b.razorpay_order_id,razorpaySignature:b.razorpay_signature,registrationId:a.registration.id}),ay.toast.success("Registration successful! Check your email for confirmation."),G(!1),I({name:"",email:"",phone:""})}catch{ay.toast.error("Payment verification failed. Please contact support.")}},prefill:{name:H.name,email:H.email,contact:H.phone},theme:{color:"#2563eb"}};new window.Razorpay(b).open()}catch{ay.toast.error("Failed to initiate registration")}finally{E(!1)}};if(w)return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,b.jsx)(l.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!v)return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,b.jsx)(q.Card,{className:"max-w-md mx-auto",children:(0,b.jsxs)(q.CardHeader,{children:[(0,b.jsx)(q.CardTitle,{children:"Event Not Found"}),(0,b.jsx)(q.CardDescription,{children:"The event you're looking for doesn't exist or has been removed."})]})})});let L=new Date(v.date),M=L>new Date;return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)("div",{className:"relative bg-linear-to-b from-primary/10 to-background pb-12",children:(0,b.jsx)("div",{className:"container mx-auto px-4 pt-12",children:(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)(r.Badge,{variant:M?"default":"secondary",children:M?"Upcoming Event":"Past Event"}),(0,b.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(u),C(!0),ay.toast.success("Event code copied!"),setTimeout(()=>C(!1),2e3)},className:"flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[(0,b.jsx)("span",{className:"font-mono",children:u}),B?(0,b.jsx)(k.default,{className:"h-3.5 w-3.5 text-green-500"}):(0,b.jsx)(j.Copy,{className:"h-3.5 w-3.5"})]})]}),(0,b.jsx)("h1",{className:"text-4xl md:text-5xl font-bold tracking-tight mb-4",children:v.name}),(0,b.jsx)("p",{className:"text-lg text-muted-foreground mb-8",children:v.description}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-6 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Calendar,{className:"h-5 w-5 text-primary"}),(0,b.jsx)("span",{children:(0,az.format)(L,"EEEE, MMMM d, yyyy 'at' h:mm a")})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.MapPin,{className:"h-5 w-5 text-primary"}),(0,b.jsx)("span",{children:v.address})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.DollarSign,{className:"h-5 w-5 text-primary"}),(0,b.jsxs)("span",{className:"font-semibold",children:["₹",v.ticketPrice]})]})]})]})})}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto grid gap-8 lg:grid-cols-3",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,b.jsxs)(q.Card,{children:[(0,b.jsx)(q.CardHeader,{children:(0,b.jsxs)(q.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(g.MapPin,{className:"h-5 w-5"}),"Event Location"]})}),(0,b.jsxs)(q.CardContent,{children:[(0,b.jsx)("div",{ref:z,className:"h-[300px] rounded-lg overflow-hidden"}),(0,b.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:v.address}),(0,b.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>window.open(`https://www.google.com/maps/dir/?api=1&destination=${v.lat},${v.lng}`,"_blank"),children:[(0,b.jsx)(n,{className:"mr-2 h-4 w-4"}),"Get Directions"]})]})]})]})}),v.indoorMap?.url&&(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,b.jsxs)(q.Card,{children:[(0,b.jsxs)(q.CardHeader,{children:[(0,b.jsx)(q.CardTitle,{children:"Indoor Map"}),(0,b.jsx)(q.CardDescription,{children:"Navigate the venue with our indoor floor plan"})]}),(0,b.jsxs)(q.CardContent,{children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("img",{src:v.indoorMap.url,alt:"Indoor Map",className:"w-full rounded-lg"}),v.indoorMap.pois?.map(a=>(0,b.jsx)("div",{className:"absolute w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs font-bold shadow-lg cursor-pointer transform -translate-x-1/2 -translate-y-1/2 hover:scale-110 transition-transform",style:{left:`${a.x}%`,top:`${a.y}%`},title:a.name,children:a.name.charAt(0)},a.id))]}),v.indoorMap.pois&&v.indoorMap.pois.length>0&&(0,b.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:v.indoorMap.pois.map(a=>(0,b.jsx)(r.Badge,{variant:"secondary",children:a.name},a.id))})]})]})})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:(0,b.jsxs)(q.Card,{className:"sticky top-4",children:[(0,b.jsxs)(q.CardHeader,{children:[(0,b.jsx)(q.CardTitle,{children:"Register Now"}),(0,b.jsx)(q.CardDescription,{children:"Secure your spot at this event"})]}),(0,b.jsxs)(q.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Ticket Price"}),(0,b.jsxs)("span",{className:"text-2xl font-bold",children:["₹",v.ticketPrice]})]}),(0,b.jsx)(t.Separator,{}),M?(0,b.jsxs)(ao,{open:F,onOpenChange:G,children:[(0,b.jsx)(ap,{asChild:!0,children:(0,b.jsxs)(o.Button,{className:"w-full",size:"lg",children:[(0,b.jsx)(i.Users,{className:"mr-2 h-4 w-4"}),"Register for Event"]})}),(0,b.jsxs)(as,{children:[(0,b.jsxs)(at,{children:[(0,b.jsxs)(au,{children:["Register for ",v.name]}),(0,b.jsx)(av,{children:"Fill in your details to complete registration"})]}),(0,b.jsxs)("form",{onSubmit:K,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(s.Label,{htmlFor:"name",children:"Full Name"}),(0,b.jsx)(p.Input,{id:"name",name:"name",placeholder:"Enter your full name",value:H.name,onChange:J,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(s.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(p.Input,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:H.email,onChange:J,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(s.Label,{htmlFor:"phone",children:"Phone Number"}),(0,b.jsx)(p.Input,{id:"phone",name:"phone",type:"tel",placeholder:"Enter your phone number",value:H.phone,onChange:J,required:!0})]}),(0,b.jsx)(t.Separator,{}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{children:"Total Amount"}),(0,b.jsxs)("span",{className:"font-bold",children:["₹",v.ticketPrice]})]}),(0,b.jsx)(o.Button,{type:"submit",className:"w-full",disabled:D,children:D?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):(0,b.jsxs)(b.Fragment,{children:["Pay ₹",v.ticketPrice," & Register"]})})]})]})]}):(0,b.jsxs)("div",{className:"text-center py-4",children:[(0,b.jsx)(r.Badge,{variant:"secondary",className:"mb-2",children:"Event Ended"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Registration is closed for this event"})]})]})]})}),v.telegramChatId&&(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},children:(0,b.jsxs)(q.Card,{children:[(0,b.jsx)(q.CardHeader,{children:(0,b.jsxs)(q.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(m.MessageSquare,{className:"h-5 w-5"}),"Need Help?"]})}),(0,b.jsxs)(q.CardContent,{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Join our Telegram group for event updates and to ask questions to our AI-powered support bot."}),(0,b.jsxs)("div",{className:"bg-muted rounded-lg p-4 space-y-2",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground",children:"How to get support:"}),(0,b.jsxs)("ol",{className:"text-sm space-y-1 list-decimal list-inside",children:[(0,b.jsx)("li",{children:"Join our Telegram group"}),(0,b.jsxs)("li",{children:["Send your question with event code:"," ",(0,b.jsx)("code",{className:"bg-background px-1 rounded",children:u})]}),(0,b.jsx)("li",{children:"Get instant AI-powered answers!"})]})]})]})]})})]})]})})]})}a.s(["default",()=>aA],54347)}];

//# sourceMappingURL=13466_Desktop_Collage%20Events_next-js-frontend_app_events_%5Bcode%5D_page_tsx_cbd1bc3c._.js.map